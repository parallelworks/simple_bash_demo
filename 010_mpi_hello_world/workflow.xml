<tool id='NA' name='NA'>
  <command interpreter='bash'>010_mpi_hello_world/main.sh</command>
  <cancel interpreter='bash'>cancel.sh</cancel>
  <inputs>
   <param name='load_mpi' 
        label='Command to load MPI' 
        type='text' 
        value='source /contrib/__PW_USER__/ompi/env.sh' 
        help='To load the environment, enter the appropriate command, for example: module load module-name or source path/to/env.sh.' 
    ></param>
    <param 
        name='np' 
        label='Number of processes' 
        type='integer' 
        min="1" 
        max="100" 
        help='Number of MPI processes' value='4' 
    ></param>
   <param name='resource' 
        type='computeResource' 
        label='Resource' 
        hideUserWorkspace='true'
        hideDisconnectedResources='true'
        help='Choose the resource for script submission'
    ></param>
    <conditional name="input_method_cond">
        <param 
            name='jobschedulertype' 
            type='select' 
            label='Select Controller, SLURM Partition or PBS Queue' 
            help='Job will submitted using SSH, sbatch or qsub, respectively'   
            multiple='false'>
            <option value="CONTROLLER" selected="true">Controller or Login Node</option>
            <option value="SLURM">SLURM Partition</option>
            <option value="PBS">PBS Queue</option>
        </param>
        <when value="SLURM">
            <param 
                name='wait_for_job' 
                type='boolean' 
                truevalue='Yes' 
                falsevalue='No' 
                checked='True'
                label='Wait for the SLURM job or fire and forget? ' 
                help='If yes is selected, the PW job waits for the SLURM job to complete while continuously monitoring its status and the possibility to cancel the SLURM job when the PW job is canceled.'>
            </param>
        </when>
        <when value="PBS">
            <param 
                name='wait_for_job' 
                type='boolean' 
                truevalue='Yes' 
                falsevalue='No' 
                checked='True'
                label='Wait for the PBS job or fire and forget? ' 
                help='If yes is selected, the PW job waits for the PBS job to complete while continuously monitoring its status and the possibility to cancel the PBS job when the PW job is canceled.'>
            </param>
        </when>
    </conditional>
    <param 
        name='scheduler_directives' 
        label='Type your script' 
        type='textarea' 
        value='#!/bin/bash' 
        help='Type or copy paste the scheduler directives for the MPI job'
    ></param>
    </inputs>
</tool>
